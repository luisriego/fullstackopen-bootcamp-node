{"version":3,"sources":["components/Filter/index.js","components/Notification/index.js","components/PersonForm/index.js","services/Persons/index.js","components/Person/index.js","components/Persons/index.js","App.js","index.js"],"names":["Filter","searchHandle","type","onChange","Notification","message","useState","show","setShow","useEffect","timeId","setTimeout","clearTimeout","className","PersonForm","submitHandle","nameChange","numberChange","onSubmit","BASE_URL_API","Person","person","name","number","onClick","id","window","confirm","axios","delete","Persons","persons","map","App","setPersons","newName","setNewName","newNumber","setNewNumber","search","setSearch","setMessage","get","then","data","filter","length","toLowerCase","includes","e","target","value","preventDefault","actualPerson","alert","put","res","catch","err","response","resp","post","create","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9cde84ab.chunk.js","sourcesContent":["import React from 'react'\n\nexport const Filter = ({searchHandle}) => {\n    return (\n        <>\n            filter show with <input type=\"text\" onChange={searchHandle} />\n        </>\n    )\n}\n","import { useEffect, useState } from \"react\"\n\nconst Notification = ({ message }) => {\n  const [show, setShow] = useState(true)\n  useEffect(() => {\n    if (message[0] === null || message[0] === '') {\n      return null\n    }\n    setShow(true)\n    const timeId = setTimeout(() => {\n      // After 3 seconds set the show value to false\n      setShow(false)\n    }, 5000)\n    \n    return () => {\n      clearTimeout(timeId)\n    }\n  }, [message]);\n\n  if (!show) {\n    return null;\n  }\n\n  return (\n    <div className={message[1]}>\n      {message[0]}\n    </div>\n  )\n}\n\nexport default Notification\n\n","import React from 'react'\n\nexport const PersonForm = ({submitHandle, nameChange, numberChange}) => {\n    return (\n      <>\n        <h3>add a new</h3>\n        <form onSubmit={submitHandle}>\n            <div>\n                name: <input type=\"text\" onChange={nameChange}/>\n            </div>\n            <div>\n                number: <input type=\"text\" onChange={numberChange}/>\n            </div>\n            <div>\n                <button>add</button>\n            </div>\n        </form>\n      </>\n    )\n}\n","import axios from \"axios\"\n\nconst BASE_URL_API = `http://localhost:3001/api/persons`\n// const BASE_URL_API = 'https://sheltered-gorge-43407.herokuapp.com/api/persons'\n\n\nexport const getAll = () => {\n    return axios.get(BASE_URL_API)\n}\n\nexport const create = ({name, number}) => {\n    return axios.post(BASE_URL_API, { name, number })\n      .then(res => {\n        return [\n          `Created ${[res.data.name, res.data.number]}`,\n          'success'\n        ]\n      })\n      .catch(err => {\n        return [\n          `${err.response.data.message}`,\n          'error'\n        ]\n      })\n}\n\nexport const edit = (person) => {\n  return axios.put(`${BASE_URL_API}/${person.id}`, person)\n    .then(res => {\n      return [\n        `Edited ${res.data.name}`,\n        'success'\n      ]\n    })\n    .catch(err => {\n      return [\n        `${err.response.data.message}`,\n        'error'\n      ]\n    })\n}\n\nexport const deletePerson = (id) => {\n  return axios.delete(`${BASE_URL_API}/${id}`)\n}\n","import React from 'react'\nimport { deletePerson } from '../../services/Persons'\n\nexport const Person = ({person}) => {\n    const deleteHandle = () => {\n        if (window.confirm(`Delete ${person.name}`)) {\n            deletePerson(person.id)\n        }\n        \n    }\n    return (\n        <div>\n            <p>{person.name} {person.number} <button onClick={deleteHandle}>delete</button></p>\n        </div>\n    )\n}\n","import React from 'react'\nimport { Person } from '../Person'\n\nexport const Persons = ({persons}) => {\n    return (\n        <>\n            {\n                persons.map((person) => {\n                    return <div key={person.name}><Person person={person} /></div>\n                })\n            }\n            \n        </>\n    )\n}\n","import React, { useEffect, useState } from 'react'\n\nimport { Filter } from './components/Filter'\nimport Notification from './components/Notification'\nimport { PersonForm } from './components/PersonForm'\nimport { Persons } from './components/Persons'\nimport { getAll, create, edit } from './services/Persons'\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [search, setSearch] = useState('')\n  const [message, setMessage] = useState([])\n  \n  useEffect(() => {\n    getAll().then(({data}) => setPersons(data))\n  }, [persons])\n\n  // useEffect(() => {\n  //   console.log('hola')\n  // }, [newNumber])\n\n  const nameChange = (e) => {\n    setNewName(e.target.value)\n  }\n\n  const numberChange = (e) => {\n    setNewNumber(e.target.value)\n  }\n\n  const submitHandle = (e) => {\n    e.preventDefault()\n    const actualPerson = persons.filter(e => e.name === newName)\n   \n    if (actualPerson.length > 0  && actualPerson[0].number === newNumber ) {\n      return alert(`${newName} is already added to fonebook`)\n    }\n  \n    if (actualPerson.length > 0 && actualPerson[0].number !== newNumber) {\n      edit({ id: actualPerson[0].id, name: newName, number: newNumber})\n        .then(resp => {\n          setMessage(resp)\n        })\n\n      return\n    }\n\n    create({name: newName, number: newNumber})\n      .then(resp => {\n        setMessage([\n          resp[0],\n          resp[1]\n        ])\n      })\n      .catch(err => {\n        setMessage([\n          `Edited ${err.name}`,\n          'error'\n        ])\n      })\n  }\n\n  const searchHandle = (e) => {\n    setSearch(e.target.value)\n  }\n\n  let filter = []\n  if (persons.length > 0) {\n    filter = persons.filter((person) => {\n      return person.name.toLowerCase().includes(search.toLowerCase())\n    })\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <Filter searchHandle={searchHandle} />\n      {/* filter show with <input type=\"text\" onChange={searchHandle} /> */}\n      <PersonForm submitHandle={submitHandle} nameChange={nameChange} numberChange={numberChange} />\n      <h2>Numbers</h2>\n      <Persons persons={filter} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}