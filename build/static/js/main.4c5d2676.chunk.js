(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{19:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var c=t(1),r=t(14),a=t.n(r),u=(t(19),t(3)),s=t(0),i=function(e){var n=e.searchHandle;return Object(s.jsxs)(s.Fragment,{children:["filter show with ",Object(s.jsx)("input",{type:"text",onChange:n})]})},o=function(e){var n=e.message,t=Object(c.useState)(!0),r=Object(u.a)(t,2),a=r[0],i=r[1];return Object(c.useEffect)((function(){if(null===n[0]||""===n[0])return null;i(!0);var e=setTimeout((function(){i(!1)}),3e3);return function(){clearTimeout(e)}}),[n]),a?Object(s.jsx)("div",{className:n[1],children:n[0]}):null},j=function(e){var n=e.submitHandle,t=e.nameChange,c=e.numberChange;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h3",{children:"add a new"}),Object(s.jsxs)("form",{onSubmit:n,children:[Object(s.jsxs)("div",{children:["name: ",Object(s.jsx)("input",{type:"text",onChange:t})]}),Object(s.jsxs)("div",{children:["number: ",Object(s.jsx)("input",{type:"text",onChange:c})]}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{children:"add"})})]})]})},b=t(4),d=t.n(b),l="api/persons",h=function(e){var n=e.person;return Object(s.jsx)("div",{children:Object(s.jsxs)("p",{children:[n.name," ",n.number," ",Object(s.jsx)("button",{onClick:function(){var e;window.confirm("Delete ".concat(n.name))&&(e=n.id,d.a.delete("".concat(l,"/").concat(e)))},children:"delete"})]})})},f=function(e){var n=e.persons;return Object(s.jsx)(s.Fragment,{children:n.map((function(e){return Object(s.jsx)("div",{children:Object(s.jsx)(h,{person:e})},e.name)}))})},m=function(){var e=Object(c.useState)([]),n=Object(u.a)(e,2),t=n[0],r=n[1],a=Object(c.useState)(""),b=Object(u.a)(a,2),h=b[0],m=b[1],O=Object(c.useState)(""),x=Object(u.a)(O,2),p=x[0],v=x[1],g=Object(c.useState)(""),C=Object(u.a)(g,2),w=C[0],k=C[1],S=Object(c.useState)([]),y=Object(u.a)(S,2),E=y[0],H=y[1];Object(c.useEffect)((function(){d.a.get(l).then((function(e){var n=e.data;return r(n)}))}),[t]);var F=[];return t.length>0&&(F=t.filter((function(e){return e.name.toLowerCase().includes(w.toLowerCase())}))),Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Phonebook"}),Object(s.jsx)(o,{message:E}),Object(s.jsx)(i,{searchHandle:function(e){k(e.target.value)}}),Object(s.jsx)(j,{submitHandle:function(e){e.preventDefault();var n,c=t.filter((function(e){return e.name===h}));if(c.length>0&&c[0].number===p)return alert("".concat(h," is already added to fonebook"));c.length>0&&c[0].number!==p?(n={id:c[0].id,name:h,number:p},d.a.put("".concat(l,"/").concat(n.id),n).then((function(e){return e.data})).catch((function(e){return e}))).then((function(e){H(["Edited ".concat(e.name),"success"])})):function(e){var n=e.name,t=e.number;return d.a.post(l,{name:n,number:t}).then((function(e){return e.data}))}({name:h,number:p}).then((function(e){H(["Added ".concat(e.name),"success"])})).catch((function(e){console.log(e)}))},nameChange:function(e){m(e.target.value)},numberChange:function(e){v(e.target.value)}}),Object(s.jsx)("h2",{children:"Numbers"}),Object(s.jsx)(f,{persons:F})]})};a.a.render(Object(s.jsx)(m,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.4c5d2676.chunk.js.map